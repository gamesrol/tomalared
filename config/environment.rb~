# Load the rails application
require File.expand_path('../application', __FILE__)

# Initialize the rails application
Fra::Application.initialize!

TUMBLE = YAML.load(File.open(File.join(File.dirname(__FILE__), 'tumble.yml')))

# initialize constants
TYPES = {}

# figure out what type of post types we have by looking in the types directory for partials
# for each partial, check the first line for fields: 
# if it exists, arrayize the arguments and add the array to TYPES[:type]
  Dir[File.join(Rails.root, 'app/views/tumble/', 'types', '*')].each do |f|
  TYPES[File.basename(f).sub(/^_/,'').sub('.html.erb','')] = Ozimodo::TypeParser.parse_file(f)
end
